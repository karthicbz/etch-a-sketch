<html>
    <head>
        <title>Etch-A-Sketch</title>
    </head>
    <style>
        body{
            width: 800px;
            margin: 50px auto 0;
            box-sizing: border-box;
        }
        .container{
            display: grid;
            margin-bottom: 50px;
        }
    </style>
    <body>
        <div class="container">
            
        </div>
        <div class="controls">
            <button class="clear">Clear</button>
            <button class="reset">Reset</button>
            <input type="color" name="favcolor" value="#ff0000"
            class="sketchColor">
        </div>
    </body>
    <script>
        let gridSize = 64;
        const container = document.querySelector('.container');
        const clearColor = document.querySelector('.clear');
        const resetGrid = document.querySelector('.reset');
        const sketchColor = document.querySelector('.sketchColor');


        function makeItems(size){
            for(let i=0; i<size; i++){
                for(let j=1; j<size+1; j++){
                    let item = document.createElement('div');
                    item.textContent = '.';
                    item.classList.add('item');
                    // item.setAttribute("id", "item");
                    container.appendChild(item);
                }
            }
            container.style.gridTemplateColumns = 'repeat('+size+',1fr)';
            container.style.gridTemplateRows = 'repeat('+size+')';
        }

        makeItems(gridSize);

        function gridReset(){
            var lists = document.querySelectorAll(".item");
            lists.forEach((list)=>{
                var parentDiv = list.parentNode;
                    parentDiv.removeChild(list);	
            })
            let gridSize = prompt('What is the new grid value?');
            makeItems(Number(gridSize));
        }

        const items = document.querySelectorAll('.item');
        items.forEach((item)=>{
            item.addEventListener('mouseover', (e)=>{
                e.target.style.background = sketchColor.value;
            });
        });

        clearColor.addEventListener('click', ()=>{
            items.forEach((item)=>{
                item.style.background = '';
            });
        });

        resetGrid.addEventListener('click', ()=>{
            gridReset();
        })

        
    </script>
</html>